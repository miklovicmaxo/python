#!/usr/bin/python3

import os
import argparse

parser = argparse.ArgumentParser(add_help=False, prog="Hastags", epilog="\u200B")

SCRIPT_DIR = os.path.dirname(__file__)

"Application to extract word occurrence from the given text"

def banner():
    os.system("clear")
    print("Occurrence ~ Maxo")
    print()

def process(data):

    data_list = data.split()
    data_dict = {}
    
    for x in data_list:
        x = str(x).lower().rstrip(",.:!?")
        data_dict[x] = data_dict.get(x, 0) + 1
    
    data_sorted = sorted(data_dict.items(), key=lambda item: item[1], reverse=True)
    for key, value in data_sorted:
        print((f"({value}) {key}"))

    print()

if __name__ == "__main__":
    banner()

    parser.add_argument('-h', '--help', action="help", help="Show this help message and exit")
    parser.add_argument('-p', '--post', nargs=1, type=str, help="Add text to analyze occurrences")

    args = parser.parse_args()

    if vars(args).get("post"):
        process(args.post[0])
